<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="imagetoolbar" content="false">
<meta name="MSSmartTagsPreventParsing" content="true">
<title></title>
<link href="../../../css/bootstrap.min.css" rel="stylesheet" media="screen">
<link href="../../../css/bluevia_style.css" rel="stylesheet" media="screen">
</head>
<body class="api" data-spy="scroll" data-target=".sidemenu">
  <script src="http://code.jquery.com/jquery-latest.js"></script><script src="../../../js/bootstrap.min.js"></script><div id="header-wrapper" class="page-header">
    <div id="header" class="container-fluid">
      <div class="row-fluid">
        <a class="logo offset1" href="../../../">
          <img src="http://bluevia.com/img/BlueVia-Hdr-Logo-SML.png" width="100" alt="Bluevia Logo"><span class="lightblue"></span>
        </a>

      </div>
    </div>
    <!-- #header --> </div>
  <!-- #header-wrapper -->

  <div class="container-fluid">
    <div class="row-fluid">
      <div class="content span8 offset1">

        <ul class="breadcrumb">
<li>
<a href="../../../">Home</a> <span class="divider">/</span>
</li>
          <li class="active">
        </ul>
<h1 id="dial-number">Dial Number</h1>

<p>The dial number command allows you to add another call leg by means of specifying the number you wish to dial in order to add to a call.</p>

<p><span style="color:#f00">You can specify multiple number commands within the dial command. When one of the numbers is connected the rest are hung up.  <a href="../../knownissues/">Known Issues</a></span></p>

<p><strong>NOTE</strong>: If one of the numbers dialed is a mobile that is diverted to voicemail this will result in a call connection. This will mean that other numbers dialed may not ring at all. It is not possible for BlueVia to determine a call connection is a voice mail connection or not.</p>

<p>Within the number command, the following supporting elements can be provided:</p>

<ul>
<li>
<em>destination</em> - the phone number to be called. </li>
  <li>
<em>callerId</em> - this has to be one of your BlueVia Voice Numbers. By default when someone calls one of your numbers, the CLI displayed to the called party will be the inbound number, i.e. the calling party. You can override this, by specifying a number that you have purchased. This provides a mechanism to support anonymous calling between two parties. <strong>NOTE</strong>: Although not supported for the alpha, BlueVia will be providing support to allow you to verify your own numbers to be able to use as the callerId. This will allow you to, for example, specify a company PABX number that can be used as the callerId, allowing return calls to be handled by your own number as opposed to a BlueVia Voice Number. </li>
  <li>
<em>behaviorOnAnswer</em> - you can also specify commands that will be executed when the call is answered by the destination phone by specifying a <a href="../play/">play</a> or <a href="../speak/">speak</a> command</li>
</ul>
<p><strong>NOTE</strong>: The Number format for the destination and callerId elements is always in international dialing format *â€œtel:+<country code=""><phone number="">"*. Remember to include the *"tel:+"* as the prefix</phone></country></p>

<p>The following examples describe the element:</p>

<h2 id="json-examples">JSON Examples</h2>

<p>The following examples demonstrate how you can use the dial number command</p>

<ul>
<li>Using the callerId</li>
</ul>
<pre><code>    {
        "commands": [
            {
          "dial": {
                    "number": {
                        "callerId": "tel:+442012345678",
                        "destination": "tel:+4471234567"
                    }
                }
            }
        ]
    }
</code></pre>

<p>This will result in the destination number of +441234567 ringing.
If the destination handset supports the display of the caller ID, in this case the number the callerId of +442012345678 is displayed on the destination terminal.</p>

<ul>
<li>Using the behaviourOnAnswer element</li>
</ul>
<pre><code>    {
        "commands": [
            {
                "dial": {
                    "number": {
                        "callerId": "tel:+442012345678",
                        "destination": "tel:+4471234567"
                    },
                    "behaviorOnAnswer": {
                        "speak": {
                            "text": "Have a nice day.",
                            "voice": "Female"
                        }
                    }
                }
            }
        ]
    }
</code></pre>

<p>This will result in the destination number of +441234567 ringing.
If the destination handset supports the display of the caller ID, in this case the number the callerId of +442012345678 is displayed on the destination terminal.
Additionally, in this case, when the destination answers the call the <a href="../speak/">speak command</a> will be executed.</p>

<ul>
<li>Calling multiple destinations</li>
</ul>
<pre><code>
    {
        "commands": [
            {
                "dial": {
                    "number": {
                        "callerId": "tel:+442012345678",
                        "destination": [
                            "tel:+4471234567",
                            "tel:+4472345678",
                            "tel:+4473456789"
                        ]
                    }
                }
            }
        ]
    }
</code></pre>

<p>This will result in the destination number of +441234567, +442345678 and +443456789 ringing.
If the destination handset supports the display of the caller ID, in this case the number the callerId of +442012345678 is displayed on the destination terminal.
In the case all of the called destinations can join the call.</p>

<h2 id="xml-examples">XML Examples</h2>

<p>The same dial number JSON commands can be described in XML as follows </p>

<ul>
<li>Using the callerId</li>
</ul>
<pre><code>    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;tns:modifyCall xmlns:tns="http://api.bluevia.com/schemas/comms/v1" xmlns:tns1="http://api.bluevia.com/schemas/common/v2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://api.bluevia.com/schemas/comms/v1 api.bluevia.com_comms_v1_0.xsd "&gt;
      &lt;tns:commands&gt;
        &lt;tns:dial&gt;
            &lt;tns:number&gt;
                &lt;tns:destination&gt;tel:+4471234567&lt;/tns:destination&gt; 
                &lt;tns:callerId&gt;tel:+442012345678&lt;/tns:callerId&gt;          
            &lt;/tns:number&gt;
        &lt;/tns:dial&gt;
      &lt;/tns:commands&gt;
    &lt;/tns:modifyCall&gt;
</code></pre>

<ul>
<li>Using behaviorOnAnswer element</li>
</ul>
<pre><code>    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;tns:modifyCall xmlns:tns="http://api.bluevia.com/schemas/comms/v1" xmlns:tns1="http://api.bluevia.com/schemas/common/v2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://api.bluevia.com/schemas/comms/v1 api.bluevia.com_comms_v1_0.xsd "&gt;
      &lt;tns:commands&gt;
        &lt;tns:dial&gt;
            &lt;tns:number&gt;
                &lt;tns:destination&gt;tel:+4471234567&lt;/tns:destination&gt; 
    &lt;tns:callerId&gt;tel:+442012345678&lt;/tns:callerId&gt;  
                &lt;tns:behaviorOnAnswer&gt;
                    &lt;tns:speak&gt;
                        &lt;tns:text&gt;Hope you have a nice day &lt;/tns:text&gt;
                        &lt;tns:voice&gt;Female&lt;/tns:voice&gt;
                    &lt;/tns:speak&gt;
                &lt;/tns:behaviorOnAnswer&gt;             
            &lt;/tns:number&gt;
        &lt;/tns:dial&gt;
      &lt;/tns:commands&gt;
    &lt;/tns:modifyCall&gt;
</code></pre>

<ul>
<li>Calling multiple destinations</li>
</ul>
<pre><code>    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;tns:modifyCall xmlns:tns="http://api.bluevia.com/schemas/comms/v1" xmlns:tns1="http://api.bluevia.com/schemas/common/v2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://api.bluevia.com/schemas/comms/v1 api.bluevia.com_comms_v1_0.xsd "&gt;
      &lt;tns:commands&gt;
        &lt;tns:dial&gt;
            &lt;tns:number&gt;
                &lt;tns:destination&gt;tel:+4471234567&lt;/tns:destination&gt; 
                &lt;tns:destination&gt;tel:+4472345678&lt;/tns:destination&gt; 
                &lt;tns:destination&gt;tel:+4473456789&lt;/tns:destination&gt;      
                &lt;tns:callerId&gt;tel:+442012345678&lt;/tns:callerId&gt;
            &lt;/tns:number&gt;
        &lt;/tns:dial&gt;
      &lt;/tns:commands&gt;
    &lt;/tns:modifyCall&gt;
</code></pre>

<!-- Bluevia  -->

<!-- Overview -->

<!-- Quick start -->

<!-- Restref -->

<!-- Command ref -->

<!-- Notifications -->

<!-- Error codes  -->

<!-- Roadmap -->

<!-- Play -->

<!-- Known Issues -->

        <hr>
<span id="prevPage" class="bottomLinks pull-left"></span>
        <span id="nextPage" class="bottomLinks pull-right"></span>

      </div>

      <div id="sidebar" class="span3">
        <div class="accordion" id="accordionMenu">
          <div class="accordion-group">
            <div class="accordion-heading">
              <a class="accordion-toggle inline" data-toggle="collapse" data-parent="#accordionOverview" href="#collapseOverview"><i class="icon-chevron-down"></i></a><a href="../../overview/">Overview</a>
            </div>
          <div id="collapseOverview" class="accordion-body collapse">
            <div class="accordion-inner">
              <ul class="js-guides nav nav-list sidemenu">
<li>
                  <a href="../../overview/restapi/">BlueVia Voice RESTful API</a>
                </li>
                <li>
                  <a href="../../overview/callcontrol/">BlueVia Voice Call Control Commands</a>
                </li>
                <li>
                  <a href="../../overview/callflows/">Call Flows</a>
                </li>
                <li>
                  <a href="../../overview/existing/">Existing BlueVia APIs and the BlueVia Voice API</a>
                </li>
                <li>
                  <a href="../../overview/balance/">Adding Balance To Your BlueVia Account</a>
                </li>
                <li>
                  <a href="../../overview/numbers/">Buying Numbers</a>
                </li>
                <li>
                  <a href="../../overview/configure/">Configuring Your BlueVia Numbers</a>
                </li>
                <li>
                  <a href="../../overview/usingnumbers/">Using Your BlueVia Voice Numbers</a>
                </li>
                <li>
                  <a href="../../overview/pricing/">BlueVia Voice API Costs</a>
                </li>
                <li>
                  <a href="../../overview/knownlimitations/">Known Alpha Limitations</a>
                </li>
              </ul>
</div>
          </div>

          </div>
          <div class="accordion-group">
            <div class="accordion-heading">
              <a class="accordion-toggle inline" data-toggle="collapse" data-parent="#accordionQuickstart" href="#collapseQuickstart"><i class="icon-chevron-down"></i></a><a href="../../quickstart/">Quick Start Guides</a>
            </div>
          <div id="collapseQuickstart" class="accordion-body collapse">
            <div class="accordion-inner">
              <ul class="nav nav-list">
<li>
                  <a href="../../quickstart/connectcallnocode/">Connect a Call Without Code</a>
                </li>
                <li>
                  <a href="../../quickstart/createconfnocode/">Create a Conference Without Code</a>
                </li>
                <li>
                  <a href="../../quickstart/confwithpincode/">A Conference With Pin Code</a>
                </li>
                <li>
                  <a href="../../quickstart/restapicreatecall/">Create A Call With the REST API</a>
                </li>
                <li>
                  <a href="../../quickstart/modifycall/">Modify An Existing Call</a>
                </li>
                <li>
                  <a href="../../quickstart/restapicreateconf/">Create A Conference Call With The REST API</a>
                </li>
                <li>
                  <a href="../../quickstart/restapiupdateconfig/">Update Your Number's Config With The REST API</a>
                </li>

              </ul>
</div>
          </div>
          </div>
          <div class="accordion-group">
            <div class="accordion-heading">
              <a class="accordion-toggle inline" data-toggle="collapse" data-parent="#accordionRestRef" href="#collapseRestRef"><i class="icon-chevron-down"></i></a><a href="../../restref/">RESTful API Reference</a>
            </div>
          <div id="collapseRestRef" class="accordion-body collapse">
            <div class="accordion-inner">
              <ul class="nav nav-list">
<li>
                  <a href="../../restref/request/">HTTP Request</a>
                </li>

                <li>
                  <a href="../../restref/resources/">Resources</a>
                  </li>
<li>
                    <ul class="nav nav-list">
<li>
                        <a href="../../restref/accountresources/">Account Management Resources</a>
                      </li>
                      <li>
                        <ul class="nav nav-list">
<li>
                            <a href="../../restref/account/">Account</a>
                          </li>
                          <li>
                            <a href="../../restref/accountnumber/">Account Number</a>
                          </li>
                          <li>
                            <a href="../../restref/accountconfigrulescollection/">Account Config Rules Collection</a>
                          </li>
                        </ul>
</li>
                      <li>
                        <a href="../../restref/availablenumberscollection/">Available Numbers Collection</a>
                      </li>
                      <li>
                        <a href="../../restref/calls/">Calls Resources</a>
                      </li>
                      <li>
                          <ul class="nav nav-list">
<li>
                              <a href="../../restref/callcollection/">Call Collection</a>
                            </li>
                            <li>
                              <a href="../../restref/call/">Call</a>
                            </li>
                            <li>
                              <a href="../../restref/calllegscollection/">Calls Leg Collection</a>
                            </li>
                            <li>
                              <a href="../../restref/callleg/">Call Leg</a>
                            </li>
                            <li>
                              <a href="../../restref/modifycall/">Modify Call - Set Commands</a>
                            </li>
                          </ul>
</li>
                      <li>
                        <a href="../../restref/sms/">SMS Resources</a>
                      </li>
                    </ul>
</li>
                

                <li>
                  <a href="../../restref/callstatuses/">Call Statuses</a>
                </li>
                <li>
                  <a href="../../restref/calllegstatuses/">Call Leg Statuses</a>
                </li>
              </ul>
</div>
          </div>
          </div>
          <div class="accordion-group">
            <div class="accordion-heading">
              <a class="accordion-toggle inline" data-toggle="collapse" data-parent="#accordionCommandRef" href="#collapseCommandRef"><i class="icon-chevron-down"></i></a><a href="../">Call Control Commands Reference</a>
            </div>
          <div id="collapseCommandRef" class="accordion-body collapse">
            <div class="accordion-inner">
              <ul class="nav nav-list">
<li>
                  <a href="../sendingcallcommands/">Providing Call Commands</a>
                </li>
                <li>
                  <a href="../dial/">Dial</a>
                </li>
                <li>
                  <ul class="nav nav-list">
<li>
                      <a href="./">Dial Number</a>
                    </li>
                    <li>
                      <a href="../dialconference/">Dial Conference</a>
                    </li>
                    <li>
                      <a href="../dialcallid/">Dial Call Id</a>
                    </li>
                  </ul>
</li>
                <li>
                  <a href="../speak/">Speak</a>
                </li>
                <li>
                  <a href="../play/">Play</a>
                </li>
                <li>
                  <a href="../getdigits/">GetDigits</a>
                </li>
                <li>
                  <a href="../hangup/">HangUp</a>
                </li>
                <li>
                  <a href="../redirect/">Redirect</a>
                </li>
                <li>
                  <a href="../wait/">Wait</a>
                </li>
                <li>
                  <a href="../sms/">SMS</a>
                </li>
                <li>
                  <a href="../commandchains/">Command Chains</a>
                </li>
              </ul>
</div>
          </div>
          </div>
          <div class="accordion-group">
            <div class="accordion-heading">
              <a class="accordion-toggle inline" data-toggle="collapse" data-parent="#accordionNotifications" href="#collapseNotifications"><i class="icon-chevron-down"></i></a><a href="../../notifications/">Notification Events Reference</a>
            </div>
          </div>
          <div class="accordion-group">
            <div class="accordion-heading">
              <a class="accordion-toggle inline" data-toggle="collapse" data-parent="#accordionErrorCodes" href="#collapseErrorCodes"><i class="icon-chevron-down"></i></a><a href="../../errorcodes/">Voice and SMS Error Codes</a>
            </div>
          </div>
          <div class="accordion-group">
            <div class="accordion-heading">
              <a class="accordion-toggle inline" data-toggle="collapse" data-parent="#accordionRoadmap" href="#collapseRoadmap"><i class="icon-chevron-down"></i></a><a href="../../roadmap/">Roadmap</a>
            </div>
          </div>
          <div class="accordion-group">
            <div class="accordion-heading">
              <a class="accordion-toggle inline" data-toggle="collapse" data-parent="#accordionPlay" href="#collapsePlay"><i class="icon-chevron-down"></i></a><a href="../../play/">Play ...</a>
            </div>
          <div id="collapsePlay" class="accordion-body collapse">
            <div class="accordion-inner">
              <ul class="nav nav-list">
<li>
                  <a href="../../play/">BBC Newsreader</a>
                </li>
                <li>
                  <a href="../../play/panicbutton/">Rasberry Pi Panic Button</a>
                </li>
              </ul>
</div>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- /sidebar-module -->
<div class="page-footer">
  <div id="footer" class="container-fluid">
    <div class="row-fluid">
      <div class="footer_inner clearfix offset1">

        <ul class="footer_nav span2 unstyled">
<h4><a href="http://bluevia.com">Bluevia</a></h4>
          <li>
            <a href="https://bluevia.com/en/page/tour">Tour</a>
          </li>
          <li>
            <a href="http://bluevia.com/ot-www/webroot/index.php/en/page/boilerplate.TermsAndConds">terms and conditions</a>
          </li>
          <li>
            <a href="http://bluevia.com/ot-www/webroot/index.php/en/page/boilerplate.Privacy">privacy policy</a>
          </li>
          <li>
            <a href="http://bluevia.com/ot-www/webroot/index.php/en/page/boilerplate.Accessibility">accesibility</a>
          </li>
        </ul>
<ul class="footer_nav span2 unstyled">
<h4><a href="https://bluevia.com/en/page/tech">Tech Stuff</a></h4>
            <li>
                <a href="https://bluevia.com/en/page/tech.overview">Overview</a>
            </li>
            <li>
                <a href="https://bluevia.com/en/page/tech.howto">How To</a>
            </li>
            <li>
                <a href="https://bluevia.com/en/page/tech.APIs">APIs</a>
            </li>
            <li>
                <a href="https://bluevia.com/en/page/tech.libraries">Libraries</a>
            </li>
            <li>
                <a href="https://bluevia.com/en/page/tech.bluevialab">BlueVia Lab</a>
            </li>
            <li>
                <a href="https://bluevia.com/en/page/tech.arduino">Arduino</a>
            </li>
        </ul>
<ul class="footer_nav span2 unstyled">
<h4><a href="https://bluevia.com/en/page/biz">Biz Stuff</a></h4>
            <li>
                <a href="https://bluevia.com/en/page/biz.businessmodels">Business Models</a>
            </li>
            <li>
                <a href="https://bluevia.com/en/page/biz.digitalgoods">Selling Digital Goods</a>
            </li>
            <li>
                <a href="https://bluevia.com/en/page/biz.getpaid">Get Paid</a>
            </li>
            <li>
                <a href="https://bluevia.com/en/page/biz.marketingstuff">Marketing Stuff</a>
            </li>
            <li>
                <a href="https://bluevia.com/en/page/biz.wayra">Wayra</a>
            </li>
        </ul>
<ul class="footer_nav span2 unstyled">
<h4><a href="https://bluevia.com/en/page/inspiration">Inspiration</a></h4>
            <li>
                <a id="menu-case" href="https://bluevia.com/en/page/inspiration.appiversary">Appiversary</a>
            </li>
            <li>
                <a id="menu-case" href="https://bluevia.com/en/page/inspiration.facejam">FaceJam</a>
            </li>
            <li>
                <a id="menu-case" href="https://bluevia.com/en/page/inspiration.facetones">Facetones</a>
            </li>
            <li>
                <a id="menu-case" href="https://bluevia.com/en/page/inspiration.textdeck">Textdeck</a>
            </li>
            <li>
                <a id="menu-case" href="https://bluevia.com/en/page/inspiration">More...</a>
            </li>
        </ul>
<ul class="footer_nav span2 unstyled">
<h4>Support</h4>
          <li>
            <a href="https://bluevia.com/en/page/support">contact us</a>
          </li>
        </ul>
</div>
    </div>
    <div class="row-fluid">

    </div>
    <!-- /.site --> </div>
  <!-- /#footer -->
</div>
<script>

  $(".apidoc li > dl > dt").addClass("span3");
  $(".apidoc dl dl dt").addClass("span4");
  $(".apimethod dt").addClass("span2");
  $(".apimethod dd").addClass("offset1");

  // Highlighting current page in the sidebar menu
  pathname = window.location.pathname;
  $("a[href='./']").parent().addClass("active");
  $("a[href='./']").parents(".collapse").collapse("show");

  pathtitle = $("#sidebar a[href='./']")[0];


  // Previous and next links
  menuLinks = $("#sidebar a").not(".accordion-toggle");
  pageIndex = $(menuLinks).index($(pathtitle));

  prevPageIndex = pageIndex-1;
  if ( $($(menuLinks)[prevPageIndex]).attr("href") == "./" )
    prevPageIndex = prevPageIndex - 1;
  prevPage = $($(menuLinks)[prevPageIndex]).clone();

  nextPageIndex = pageIndex+1;
  if ( $($(menuLinks)[nextPageIndex]).attr("href") == "./" )
    nextPageIndex = nextPageIndex + 1;
  nextPage = $($(menuLinks)[nextPageIndex]).clone();

  $(prevPage).prepend("<< ");
  $(nextPage).append(" >>");

  $("#prevPage").html($(prevPage));
  $("#nextPage").html($(nextPage));

  // Breadcrumbs
  parentGroup = $(pathtitle).parents(".accordion-group");
  parentCategoryText = $(".accordion-heading a:last",parentGroup)[0];
  if(parentCategoryText != null) {
    if($(parentCategoryText).text() != $(pathtitle).text())
      $(".breadcrumb li.active").before('<li><a href="'+$(parentCategoryText).attr("href")+'">'+$(parentCategoryText).text()+'</a> <span class="divider">/</span></li>');
  }
  if (pathtitle != null)
    $(".breadcrumb .active").text(pathtitle.text);

</script>
</body>
</html>
